<div class="container">
  <h1 class="head">รายการสินค้า</h1> <br>

  <div class="row">
    <div class="col-9 ">
    </div>
    <div class="col  ">
      <select class="form-select" (change)="pull()" [(ngModel)]="openshow" aria-label="Default select example">
        <option selected value="1">เปิดการใช้งาน</option>
        <option value="0">ปิดการใช้งาน</option>
      </select> <br>
    </div>
  </div>

  <div class="row">
    <div class="col-9 ">
    </div>
    <div class="col  ">
      <div class="input-group">
        <div class="input-group-prepend">
          <span class="input-group-text" id="basic-addon1"> <i><span class="glyphicon glyphicon-search"></span></i>
          </span>
        </div>
        <input type="text" class="form-control" [(ngModel)]="keyword" placeholder="ค้นหา" aria-label="Username"
          aria-describedby="basic-addon1" #s (ngModelChange)="search()" />
      </div>
      <br>
    </div>
  </div>

  <div class="row">
    <div class="col-9 ">
    </div>
    <div class="col  ">
      <button type="button" class="greenlight btn-block btn-lg btn btn-" style="float: right;"
        [routerLink]="['/addproduct']">
        <p class="white" style="font-size: 16px;"><span class="glyphicon glyphicon-plus-sign"></span> เพิ่ม</p>
      </button>
    </div>
  </div>
  <br>


  <table class="table">
    <thead class="thead-dark" style="background-color: #FFE1E1;  ">
      <tr>

        <th scope="col">image</th>
        <th scope="col">ID</th>
        <th scope="col">ชื่อสินค้า</th>
        <th scope="col">ราคา</th>
        <th scope="col">สถานะ</th>
        <th scope="col">แก้ไข</th>
        <th scope="col">ลบ</th>

      </tr>
    </thead>
    <tbody class="info">
      <tr
        *ngFor="let b of this.product |paginate: { id:'pageproduct1',itemsPerPage: 5, currentPage: page, totalItems: totalRecords }; let i = index">

        <td><img [src]="path+b.imgs_proname" width="50px"></td>
        <td>{{b.product_code}}</td>
        <td>{{b.name}}</td>
        <td>{{b.price}}</td>
        <td>{{b.product_status}}</td>
        <td><a [routerLink]="'/updateproduct/'+b.product_code"><button type="button"
              class="orengeyellow btn-block btn-lg btn btn-">
              <p class="white" style="font-size: 16px;">แก้ไข</p>
            </button></a></td>
        <td><button type="button" class="red btn-block btn-lg btn btn-" (click)="delPro(b.product_code)">
            <p class="white" style="font-size: 16px;"><span class="glyphicon glyphicon-remove-sign"></span> ปิดการใช้งาน
            </p>
          </button></td>
      </tr>

      <tr
        *ngFor="let b of this.product_not_use |paginate: { id:'pageproduct0',itemsPerPage: 5, currentPage: page, totalItems: totalRecordsnotuse }; let i = index">
        <td>
          <img [src]="path+b.imgs_proname" width="50px">
        </td>
        <td>{{b.product_code}}</td>
        <td>{{b.name}}</td>
        <td>{{b.price}}</td>
        <td>{{b.product_status}}</td>
        <td><a [routerLink]="'/updateproduct/'+b.product_code"><button type="button"
              class="orengeyellow btn-block btn-lg btn btn-">
              <p class="white" style="font-size: 16px;">แก้ไข</p>
            </button></a></td>
        <td><button type="button" class="red btn-block btn-lg btn btn-" (click)="openPro(b.product_code)">
            <p class="white" style="font-size: 16px;"><span class="glyphicon glyphicon-remove-sign"></span> ปิดการใช้งาน
            </p>
          </button></td>
      </tr>

    </tbody>
  </table>

  <div class="row">
    <div class="col-9">
    </div>
    <div class="col  " *ngIf="openshow == 1">
      <pagination-controls id="pageproduct1" [maxSize]="10" (pageChange)="page = $event" *ngIf="isshow">
      </pagination-controls>
    </div>
    <div class="col  " *ngIf="openshow == 0">
      <pagination-controls id="pageproduct0" [maxSize]="10" (pageChange)="page = $event" *ngIf="isshow">
      </pagination-controls>
    </div>
  </div>

</div>
