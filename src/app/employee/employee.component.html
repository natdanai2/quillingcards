<div class="container">
  <h1 class="head">รายการข้อมูลพนักงาน</h1> <br>

  <div class="row">
    <div class="col-9 ">
    </div>
    <div class="col  ">
      <select class="form-select" (change)="pull()" [(ngModel)] = "openshow" aria-label="Default select example">
        <option selected value="1">เปิดการใช้งาน</option>
        <option value="0">ปิดการใช้งาน</option>
      </select> <br>
    </div>
  </div>

  <div class="row">
    <div class="col-9 ">
    </div>
    <div class="col  ">
      <div class="input-group">
        <div class="input-group-prepend">
          <span class="input-group-text" id="basic-addon1"> <i><span class="glyphicon glyphicon-search"></span></i> </span>
        </div>
        <input type="text" class="form-control" [(ngModel)]="keyword"  placeholder="ค้นหา" aria-label="Username"
          aria-describedby="basic-addon1" #s  (ngModelChange)="search()" />
      </div>
       <br>
    </div>
  </div>

  <div class="row">
    <div class="col-9 ">
    </div>
    <div class="col  ">
  <button type="button" class="greenlight btn-block btn-lg btn btn-" style="float: right;"
    [routerLink]="['/addemployee']">
    <p class="white" style="font-size: 16px;"><span class="glyphicon glyphicon-plus-sign"></span> เพิ่ม</p>
  </button>
    </div>
  </div>
<br>


  <table class="table table-hover table-striped">
    <thead class="thead-dark" style="background-color: #FFE1E1;  ">
      <tr>

        <th scope="col">ID</th>
        <th scope="col">ชื่อ-นามสกุล</th>
        <th scope="col">เบอร์โทรศัพท์</th>
        <th scope="col">อีเมล</th>
        <!-- <th scope="col">ที่อยู่</th>
        <th scope="col">วัน/เดือน/ปี</th> -->
        <!-- <th scope="col">สิทธ์การเข้าใช้</th> -->
        <!-- <th scope="col">สถานะการใช้งาน</th> -->
        <th scope="col">ดูรายละเอียด</th>
        <th scope="col">แก้ไข</th>
        <th scope="col">เปลี่ยนสถานะ</th>
      </tr>
    </thead>
    <tbody class="info">
      <tr *ngFor="let b of this.employee |paginate: { id:'pageemployee1',itemsPerPage: 7, currentPage: page, totalItems: totalRecords }; let i = index">

        <td>{{b.cus_id}}</td>
        <td>{{b.name}}</td>
        <td>{{b.phone}}</td>
        <td>{{b.email_address}}</td>
        <!-- <td>{{b.address}}</td>
        <td>{{b.birthdate}}</td> -->
        <!-- <td>{{b.urole}}</td> -->
        <!-- <td>{{b.users_status}}</td> -->

        <td><button type="button" routerLink="/employeedetail/{{b.cus_id}}"class="blue btn-block btn-lg btn btn-">
          <p class="white" style="font-size: 16px;" ><span class="glyphicon glyphicon-search"></span>  ดูรายละเอียด</p>
        </button></td>

        <td><a [routerLink]="'/updateemployee/'+b.cus_id"><button type="button"
              class="orengeyellow btn-block btn-lg btn btn-">
              <p class="white" style="font-size: 16px;"><span class="glyphicon glyphicon-wrench"></span> แก้ไข</p>
            </button></a></td>

        <td><button type="button" class="red btn-block btn-lg btn btn-" (click)="delEmp(b.email_address)">
            <p class="white" style="font-size: 16px;"><span class="glyphicon glyphicon-remove-sign"></span> ปิดการใช้งาน</p>
          </button></td>
      </tr>

      <tr *ngFor="let b of this.employee_not_use |paginate: { id:'pageemployee0',itemsPerPage: 7, currentPage: page, totalItems: totalRecordsnotuse }; ; let i = index">

        <td>{{b.cus_id}}</td>
        <td>{{b.name}}</td>
        <td>{{b.phone}}</td>
        <td>{{b.email_address}}</td>
        <!-- <td>{{b.address}}</td>
        <td>{{b.birthdate}}</td> -->
        <!-- <td>{{b.urole}}</td> -->
        <!-- <td>{{b.users_status}}</td> -->

        <td><button type="button" routerLink="/employeedetail/{{b.cus_id}}"
          class="blue btn-block btn-lg btn btn-">
          <p class="white" style="font-size: 16px;" ><span class="glyphicon glyphicon-search"></span>  ดูรายละเอียด</p>
        </button></td>

        <td><a [routerLink]="'/updateemployee/'+b.cus_id"><button type="button"
              class="orengeyellow btn-block btn-lg btn btn-">
              <p class="white" style="font-size: 16px;"><span class="glyphicon glyphicon-wrench"></span> แก้ไข</p>
            </button></a></td>

        <td><button type="button" class="greenlight btn-block btn-lg btn btn-" (click)="openEmp(b.email_address)">
            <p class="white" style="font-size: 16px;"><span class="glyphicon glyphicon-ok-sign"></span> เปิดการใช้งาน</p>
          </button></td>
      </tr>

    </tbody>
  </table>

  <div class="row">
    <div class="col-9 ">
    </div>
    <div class="col  " *ngIf="openshow == 1">
      <pagination-controls id="pageemployee1" [maxSize]="10" (pageChange)="page = $event" *ngIf="isshow"></pagination-controls>
    </div>
    <div class="col  " *ngIf="openshow == 0">
      <pagination-controls id="pageemployee0" [maxSize]="10" (pageChange)="page = $event" *ngIf="isshow"></pagination-controls>
    </div>
  </div>

</div>

